# 1371. 每个元音包含偶数次的最长子字符串

给你一个字符串 `s` ，请你返回满足以下条件的最长子字符串的长度：每个元音字母，即 'a'，'e'，'i'，'o'，'u' ，在子字符串中都恰好出现了偶数次。

**示例 1：**

```
输入：s = "eleetminicoworoep"
输出：13
解释：最长子字符串是 "leetminicowor" ，它包含 e，i，o 各 2 个，以及 0 个 a，u 。
```

**示例 2：**
```
输入：
s = "axxxxaxxa"
s = "aaa"
s = "aa"
输出：
8
2
2
```

## 状态压缩 + 前缀和

```java
class Solution {
    public int findTheLongestSubstring(String s) {
        int[] pos = new int[1<<5];
        int res = 0, status = 0;
        Arrays.fill(pos, -1);
        pos[0] = 0;     // 含有偶数次元音的第一个下标
        for (int i = 1; i <= s.length(); i++) {
            char ch = s.charAt(i-1);
            if (ch == 'a')      status ^= (1 << 0);
            else if (ch == 'e') status ^= (1 << 1);
            else if (ch == 'i') status ^= (1 << 2);
            else if (ch == 'o') status ^= (1 << 3);
            else if (ch == 'u') status ^= (1 << 4);

            if (pos[status] == -1) {
                pos[status] = i;
            } else {
                res = Math.max(res, i - pos[status]);
            }
        }
        return res;
    }
}
```

